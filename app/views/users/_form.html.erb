<% if @user.errors.any? %>
  <h4>The following errors prevented the user from being saved</h4>
  <ul>
  <% @user.errors.full_messages.each do |error| %>
    <li><%= error %></li>
  <% end %>
  </ul>
<% end %>

<%= form_with model: @user, local: true do |f| %>

<p>
  <%= f.label :username %><br/>
  <%= f.text_field :username %>
</p>

<p>
  <%= f.label :email %><br/>
  <%= f.email_field :email %>
</p>

<p>
  <%= f.label :password %><br/>
  <%= f.password_field :password %>
</p>

<p>
  <%= f.submit(@user.new_record? ? "Sign Up" : "Update") %>
</p>

<% end %>